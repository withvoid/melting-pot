---
name: useUpdate
menu: Hooks
---

import { useState } from 'react';
import { Playground } from 'docz';
import { useToggle, useUpdate } from '../../src';

# useUpdate

## Purpose

A replacement for componentDidUpdate in React. It will also be executed on first render.

## Usage

Effect useUpdate will be called on every state update
<Playground>
  {() => {
    const { on, onToggle } = useToggle();
    const [count, setCount] = useState(0);

    const styles = {
      container: {
        display: 'flex',
        flexDirection: 'row',
        justifyContent: 'center',
        backgroundColor: on ? '#81a1c1' : '#d8dee9',
        padding: 20,
      },
      button: {
        backgroundColor: on ? 'tomato' : 'gray',
        color: 'white',
        border: 0,
        padding: '10px 30px',
        margin: '0 10px',
        outline: 0,
        cursor: 'pointer'
      },
    }

    useUpdate(() => {
      console.log('updated');
    });

    return (
      <div style={styles.container}>
        <button style={styles.button} onClick={onToggle}>
          {on ? 'On' : 'Off'}
        </button>
        <button style={styles.button} onClick={() => setCount(count + 1)}>
          count({count})
        </button>
      </div>
    );
  }}
</Playground>

Effect useUpdate will be called only on count state update
<Playground>
  {() => {
    const { on, onToggle } = useToggle();
    const [count, setCount] = useState(0);

    const styles = {
      container: {
        display: 'flex',
        flexDirection: 'row',
        justifyContent: 'center',
        backgroundColor: on ? '#81a1c1' : '#d8dee9',
        padding: 20,
      },
      button: {
        backgroundColor: on ? 'tomato' : 'gray',
        color: 'white',
        border: 0,
        padding: '10px 30px',
        margin: '0 10px',
        outline: 0,
        cursor: 'pointer'
      },
    }
    
    useUpdate(() => {
      console.log('updated');
    }, count);

    return (
      <div style={styles.container}>
        <button style={styles.button} onClick={onToggle}>
          {on ? 'On' : 'Off'}
        </button>
        <button style={styles.button} onClick={() => setCount(count + 1)}>
          count({count})
        </button>
      </div>
    );
  }}
</Playground>